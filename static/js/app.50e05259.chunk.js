(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{400:function(e,t,n){"use strict";n.d(t,"a",(function(){return _c}));var r=n(6),a=n.n(r),o=n(7),c=n.n(o),i=n(10),s=n.n(i),u=n(11),l=n.n(u),p=n(1),d=n.n(p),f=(n(122),n(0)),h=n.n(f),m=n(297),y=n(30),b=n(98),O=n(380),g=n(8),v=n.n(g);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D={DEFAULT_LOCATION_TEXT:"Set your location",DEFAULT_SEARCH_RADIUS:"10",ACCOUNT_TITLE_TEXT:"Account",ACCOUNT_SUBTITLE_TEXT:"Use the controls to change your settings.",DIALOG_CANCEL_TEXT:"Cancel",DIALOG_SUBMIT_TEXT:"Update",DIALOG_CONFIRM_TEXT:"Confirm",DIALOG_SEND_TEXT:"Send",DIALOG_ACCEPT_TEXT:"Accept",DIALOG_DECLINE_TEXT:"Decline",DIALOG_OK_TEXT:"OK",DIALOG_YES_TEXT:"Yes",DIALOG_NO_TEXT:"No",LOCATION_INPUT_LABEL:"Location",SEARCH_RADIUS_LABEL:"Search Radius (miles)",SEARCH_RADIUS_STORAGE_PROPERTY:"searchRadius",FORGOT_PASSWORD_TEXT:"Forgot Password?",RESET_PASSWORD_TITLE_TEXT:"Reset your password",RESET_PASSWORD_EMAIL_SENT:"Email with reset link sent to",RESET_PASSWORD_PLACEHOLDER:"Email address connected to your account"},C={isShown:!1,isConfirm:!1,message:"",submitText:"Accept",cancelText:"Cancel",handleSubmit:function(){return null},handleCancel:function(){return null}},k={APP_NAME:"Munch Match",LOCATION_DENY_MESSAGE:"Permission to access location was denied.",MAKE_CURRENT_DATE_MESSAGE:"Make this your current date?",HIDDEN_PAGE_ALERT:C};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=Object(b.c)({theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type,a=P({},e);switch(r){case"SET_THEME_COLOR":a=P(P({},e),{},{themeColor:n});break;default:a=P({},e)}return a},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type,a=j({},e);switch(r){case"LOGIN":case"LOG_OUT":case"SIGN_UP":a=n;break;case"STORE_DISPLAY_NAME":a=j(j({},e),{},{displayName:n});break;case"STORE_EMAIL":a=j(j({},e),{},{email:n});break;case"STORE_PASSWORD":a=j(j({},e),{},{password:n});break;default:a=j({},e)}return a},places:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type,a=T({},e);switch(r){case"UPDATE_PLACES":a=T(T({},e),{},{all:n});break;case"ADD_SEEN_PLACE_ID":case"UPDATE_VIEWED_IDS":a=T(T({},e),{},{viewedIds:n});break;case"STORE_SELECTED_PLACE":a=T(T({},e),{},{selected:n});break;default:a=T({},e)}return a},location:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type,a=I({},e);switch(r){case"UPDATE_LOCATION":a=I(I({},e),{},{coords:n});break;case"UPDATE_SEARCH_RADIUS":a=I(I({},e),{},{searchRadius:n});break;case"UPDATE_NEXT_PAGE_TOKEN":a=I(I({},e),{},{nextPageToken:n});break;default:a=I({},e)}return a},dates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type,a=[].concat(e);switch(r){case"STORE_DATES":a=[].concat(n);break;default:a=[].concat(e)}return a},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type,a=[].concat(e);switch(r){case"STORE_NOTIFICATION":case"REMOVE_NOTIFICATION":a=[].concat(n);break;default:a=[].concat(e)}return a},socketIO:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=e;switch(t.type){case"STORE_SOCKET_IO":r=n;break;default:r=e}return r},pageAlert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type,a=_({},e);switch(r){case"STORE_PAGE_ALERT":a=_({},n);break;default:a=_({},e)}return a}}),N=Object(b.a)(O.a),L=Object(b.e)(R,Object(b.d)(N,window.devToolsExtension?window.devToolsExtension():function(e){return e})),U=n(33),z=n.n(U),B=n(19),M=n.n(B),H=n(655),V=n(156),G=n(356),F=n(359),W=n(166),X=n(121),q=n(399),Y=n(295),J=n.n(Y),K=n(653),$=n(3),Z={propTypes:{addListener:$.func,canGoBack:$.func,dangerouslyGetParent:$.func,dangerouslyGetState:$.func,dispatch:$.func,goBack:$.func,isFocused:$.func,navigate:$.func,pop:$.func,popToTop:$.func,push:$.func,removeListener:$.func,replace:$.func,reset:$.func,setOptions:$.func,setParams:$.func}},Q={propTypes:{key:$.string,name:$.string,params:$.object}},ee={propTypes:{name:$.string,place_id:$.string,open_now:$.bool,price_level:$.number,rating:$.number,vicinity:$.string}},te={propTypes:{latitude:$.number,longitude:$.number,altitude:$.number,accuracy:$.number,altitudeAccuracy:$.number,heading:$.number,speed:$.number}},ne={propTypes:{updatePlaces:$.func,updateLocation:$.func,updateNextPageToken:$.func,addAcceptedPlaceId:$.func,addViewedPlaceId:$.func,getSearchRadius:$.func,navigation:Object($.shape)(Z.propTypes),route:Object($.shape)(Q.propTypes),location:Object($.shape)(te.propTypes),places:Object($.oneOfType)([$.object,Object($.shape)({all:Object($.oneOfType)([$.array,Object($.arrayOf)(Object($.shape)(ee))])})])},defaultProps:{updatePlaces:function(){return null},addAcceptedPlaceId:function(){return null},addViewedPlaceId:function(){return null},places:{all:[]}}},re={propTypes:{fontFamily:$.string.isRequired,fontWeight:$.string.isRequired}},ae={propTypes:{mode:$.string,roundness:$.number,dark:$.bool,animation:Object($.shape)({scale:$.number}),fonts:Object($.shape)({light:Object($.shape)(re.propTypes),medium:Object($.shape)(re.propTypes),regular:Object($.shape)(re.propTypes),thin:Object($.shape)(re.propTypes)}),colors:Object($.shape)({accent:$.string,backdrop:$.string,background:$.string,border:$.string,card:$.string,disabled:$.string,error:$.string,notification:$.string,onBackground:$.string,onSurface:$.string,placeholder:$.string,primary:$.string,surface:$.string,text:$.string})}},oe={propTypes:{navigation:Object($.shape)(Z.propTypes),route:Object($.shape)(Q.propTypes),theme:Object($.shape)(ae.propTypes)}},ce={propTypes:{navigation:Object($.shape)(Z.propTypes),route:Object($.shape)(Q.propTypes),theme:Object($.shape)(ae.propTypes)}},ie={propTypes:{currentRoute:$.string,descriptors:$.object,progress:$.object,state:$.object,routeNames:$.array,navigation:Object($.shape)(Z.propTypes),theme:Object($.shape)(ae.propTypes)}},se={propTypes:{handleLogOutOnPress:$.func}},ue={propTypes:{currentRoute:$.string,handleNavItemOnPress:$.func,theme:Object($.shape)(ae.propTypes)}},le=($.bool,Object($.shape)({dbField:$.string,description:$.string,invalidMessage:$.string,isInputInvalid:$.bool,title:$.string}),$.func,$.func,$.func,{propTypes:{isSignUpPage:$.bool,theme:Object($.shape)(ae.propTypes)}});function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe={propTypes:{cardIndex:$.number,placeData:Object($.oneOfType)([$.object,Object($.shape)(de(de({},Object($.shape)(ee.propTypes)),{},{international_phone_number:$.string,photoUrl:$.string,photos:Object($.oneOfType)([$.array,Object($.shape)({html_attributions:$.string,photo_reference:$.string})])}))]),handleChooseOnPress:$.func,handleRejectPlaceOnPress:$.func},defaultProps:{placeData:{}}},he={propTypes:{pricingLevel:$.number,theme:Object($.shape)(ae.propTypes)}},me={propTypes:{rating:$.number}},ye=($.string,$.string,{propTypes:{currentCardIndex:$.number,cards:Object($.oneOfType)([$.array,Object($.shape)(ee.propTypes)]),updateNextPlace:$.func,handleChoosePlace:$.func,handleRemoveAcceptedPlace:$.func}}),be={propTypes:{isSelected:$.bool}},Oe=n(4),ge=n(12),ve=n(298),Ee=n(87),Pe=n(18),we=n(340),je=n(382),Se=n(111),Te=n(5);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ie=Te.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},innerContainer:{paddingVertical:10,paddingHorizontal:20,marginVertical:20,width:ge.a.select({native:"85%",default:"50%"})},cursorPointer:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ge.a.select({web:{cursor:"pointer"}})),textCenter:{textAlign:"center"},textLeft:{textAlign:"left"},textRight:{textAlign:"right"},fontBold:{fontWeight:"bold"},width100:{width:"100%"},width75:{width:"75%"},width50:{width:"50%"},height100:{height:"100%"},padding0:{padding:0},paddingVertical0:{paddingVertical:0},paddingLeft0:{paddingLeft:0},margin0:{margin:0},marginVertical0:{marginVertical:0},marginHorizontal10:{marginHorizontal:10},marginVertical10:{marginVertical:10},marginBottom10:{marginBottom:10},marginLeftAuto:{marginLeft:"auto"},marginHorizontalAuto:{marginHorizontal:"auto"},marginVerticalAuto:{marginVertical:"auto"},marginBottom0:{marginBottom:0},flex1:{flex:1},flex2:{flex:2},flex4:{flex:4},flexRow:{flexDirection:"row"},justifyContentCenter:{justifyContent:"center"},justifyContentAround:{justifyContent:"space-around"},justifyContentBetween:{justifyContent:"space-between"},alignItemsCenter:{alignItems:"center"},alignSelfCenter:{alignSelf:"center"},elevation12:{elevation:12},positionRelative:{position:"relative"}}),De=Te.a.create({title:{fontSize:30},subheading:{fontSize:15}}),Ce=De.title,ke=De.subheading,Ae=Ie.textCenter;function _e(e){var t=e.titleText,n=e.subheadingText;return h.a.createElement(Oe.a,null,h.a.createElement(Se.a,{style:[Ae,Ce]},t),n&&h.a.createElement(je.a,{style:[Ae,ke]},n))}var Re=n(71),Ne=n(99),Le=n(78),Ue=n(100),ze=n(9),Be=n.n(ze),Me=n(383),He=n.n(Me),Ve="http://localhost:8080",Ge=Ve+"/api/v1",Fe=Ge+"/google-apis",We=Fe+"/nearby-places",Xe=Fe+"/place-details",qe=Fe+"/place-photo",Ye={Accept:"application/json","Content-Type":"application/json"},Je=Ge+"/users",Ke=Ge+"/dates",$e=Ge+"/notifications",Ze=n(196),Qe=n.n(Ze),et=(n(523),Qe.a.initializeApp({apiKey:"AIzaSyDFZySRheeO9HuHZgXtyn9iQgAy68VGh7Y",authDomain:"munch-match-dev.firebaseapp.com",databaseURL:"https://munch-match-dev.firebaseio.com",projectId:"munch-match-dev",storageBucket:"munch-match-dev.appspot.com",messagingSenderId:"753253947442",appId:"1:753253947442:web:1d50df5ce420b2fa1b842b",measurementId:"G-NGSMR3X98N"})),tt=(Qe.a.firestore(),et);function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var at=function(){function e(){a()(this,e)}return c()(e,null,[{key:"getCurrentUser",value:function(){return tt.auth().currentUser}},{key:"authenticateUser",value:function(e){var t=this.getCurrentUser(),n=Qe.a.auth.EmailAuthProvider.credential(t.email,e);return t.reauthenticateWithCredential(n)}},{key:"getIdToken",value:function(){return this.getCurrentUser().getIdToken()}},{key:"authStateChanged",value:function(){return new Promise((function(e){tt.auth().onAuthStateChanged((function(t){return e(t)}))}))}},{key:"signInEmail",value:function(e,t){return tt.auth().signInWithEmailAndPassword(e,t)}},{key:"logOut",value:function(){return tt.auth().signOut()}},{key:"signUpEmail",value:function(e,t){var n=this;return tt.auth().createUserWithEmailAndPassword(e,t).then((function(e){var t,r;return Be.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.user.uid,a.next=3,Be.a.awrap(n.getIdToken());case 3:return r=a.sent,a.next=6,Be.a.awrap(fetch(Je+"/",{method:"POST",headers:rt(rt({},Ye),{},{Authorization:"Basic "+r}),body:JSON.stringify({user:{uid:t}})}));case 6:return a.abrupt("return",t);case 7:case"end":return a.stop()}}),null,null,null,Promise)}))}},{key:"updateProfile",value:function(e,t){return this.getCurrentUser().updateProfile(v()({},t,e))}},{key:"updateEmail",value:function(e){return this.getCurrentUser().updateEmail(e)}},{key:"updatePassword",value:function(e){return this.getCurrentUser().updatePassword(e)}},{key:"sendPasswordResetEmail",value:function(e){return tt.auth().sendPasswordResetEmail(e)}},{key:"deleteAccount",value:function(){var e,t;return Be.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Be.a.awrap(this.getIdToken());case 2:return e=n.sent,t=this.getCurrentUser(),n.abrupt("return",fetch(Je+"/"+t.uid,{method:"DELETE",headers:rt(rt({},Ye),{},{Authorization:"Basic "+e})}).then((function(){return t.delete()})).catch((function(e){return alert(JSON.stringify(e))})));case 5:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"getUser",value:function(){var e,t;return Be.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Be.a.awrap(this.getIdToken());case 2:return e=n.sent,t=this.getCurrentUser(),n.abrupt("return",fetch(Je+"/"+t.uid,{method:"GET",headers:rt(rt({},Ye),{},{Authorization:"Basic "+e})}).then((function(e){return e.json()})).then((function(e){return{uid:t.uid,displayName:t.displayName,email:t.email,currentDateId:e.currentDateId}})));case 5:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"updateUser",value:function(e){var t;return Be.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Be.a.awrap(this.getIdToken());case 2:return t=n.sent,n.abrupt("return",fetch(Je+"/"+e.uid,{method:"PUT",headers:rt(rt({},Ye),{},{Authorization:"Basic "+t}),body:JSON.stringify({user:e})}));case 4:case"end":return n.stop()}}),null,this,null,Promise)}}]),e}();function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it=function(){function e(){a()(this,e)}return c()(e,null,[{key:"getNotifications",value:function(e){var t;return Be.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Be.a.awrap(at.getIdToken());case 2:return t=n.sent,n.abrupt("return",fetch(Je+"/"+e+"/notifications",{method:"GET",headers:ct(ct({},Ye),{},{Authorization:"Basic "+t})}).then((function(e){return e.json()})).catch((function(e){return alert(e.message)})));case 4:case"end":return n.stop()}}),null,null,null,Promise)}},{key:"updateNotification",value:function(e){var t;return Be.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Be.a.awrap(at.getIdToken());case 2:return t=n.sent,n.abrupt("return",fetch($e+"/"+e,{method:"PUT",headers:ct(ct({},Ye),{},{Authorization:"Basic "+t}),body:JSON.stringify({status:"seen"})}));case 4:case"end":return n.stop()}}),null,null,null,Promise)}},{key:"updateMany",value:function(e){var t;return Be.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Be.a.awrap(at.getIdToken());case 2:return t=n.sent,n.abrupt("return",e.map((function(e){return fetch($e+"/"+e,{method:"PUT",headers:ct(ct({},Ye),{},{Authorization:"Basic "+t}),body:JSON.stringify({status:"seen"})})})));case 4:case"end":return n.stop()}}),null,null,null,Promise)}},{key:"deleteNotification",value:function(e){var t;return Be.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Be.a.awrap(at.getIdToken());case 2:return t=n.sent,n.abrupt("return",fetch($e+"/"+e,{method:"DELETE",headers:ct(ct({},Ye),{},{Authorization:"Basic "+t})}));case 4:case"end":return n.stop()}}),null,null,null,Promise)}}]),e}();function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt=function(e){return function(t,n){var r=n().notifications.map((function(e){return ut({},e)}));r.push(e),t({type:"STORE_NOTIFICATION",payload:r})}},pt=function(e){return function(t,n){t({type:"STORE_NOTIFICATION",payload:n().notifications.map((function(t){var n=t.dateId,r=ut({},t);return n===e&&(r=ut(ut({},t),{},{status:"seen"})),r}))})}},dt="You don't have any dates. Create a date to begin.";function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mt=function(){function e(){a()(this,e)}return c()(e,null,[{key:"getDate",value:function(e){var t;return Be.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Be.a.awrap(at.getIdToken());case 2:return t=n.sent,n.abrupt("return",fetch(Ke+"/"+e,{method:"GET",headers:ht(ht({},Ye),{},{Authorization:"Basic "+t})}).then((function(e){return e.json()})));case 4:case"end":return n.stop()}}),null,null,null,Promise)}},{key:"getDates",value:function(e){var t;return Be.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Be.a.awrap(at.getIdToken());case 2:return t=n.sent,n.abrupt("return",fetch(Je+"/"+e+"/dates",{method:"GET",headers:ht(ht({},Ye),{},{Authorization:"Basic "+t})}).then((function(e){return e.json()})));case 4:case"end":return n.stop()}}),null,null,null,Promise)}},{key:"createDate",value:function(e,t,n){var r;return Be.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Be.a.awrap(at.getIdToken());case 2:return r=a.sent,a.abrupt("return",fetch(Ke,{method:"POST",headers:ht(ht({},Ye),{},{Authorization:"Basic "+r}),body:JSON.stringify({date:e,requestedEmail:t,requestorName:n})}));case 4:case"end":return a.stop()}}),null,null,null,Promise)}},{key:"updateDate",value:function(e,t,n){var r,a,o;return Be.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Be.a.awrap(at.getIdToken());case 2:return r=c.sent,a=at.getCurrentUser(),o=a.displayName,c.abrupt("return",fetch(Ke+"/"+e,{method:"PUT",headers:ht(ht({},Ye),{},{Authorization:"Basic "+r}),body:JSON.stringify({requestorId:t,requestedId:n,requestedName:o,status:"accepted"})}));case 5:case"end":return c.stop()}}),null,null,null,Promise)}},{key:"deleteDate",value:function(e,t,n){var r,a,o;return Be.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Be.a.awrap(at.getIdToken());case 2:return r=c.sent,a=at.getCurrentUser(),o=a.displayName,c.abrupt("return",fetch(Ke+"/"+e,{method:"DELETE",headers:ht(ht({},Ye),{},{Authorization:"Basic "+r}),body:JSON.stringify({requestorId:t,requestedId:n,requestedName:o})}));case 5:case"end":return c.stop()}}),null,null,null,Promise)}}]),e}();function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ot=function(e){return function(t,n){var r=n().dates.map((function(e){return bt({},e)}));r.push(e),t({type:"STORE_DATES",payload:r})}},gt=function(){function e(){a()(this,e),this.socket=He()(Ve,{transports:["websocket"],jsonp:!1})}return c()(e,[{key:"start",value:function(e){var t=this;this.socket.connect(),this.socket.on("connect",(function(){console.log("connected to socket server"),t.socket.emit("user",e)})),this.socket.on("disconnect",(function(){console.log("connection to server lost.")})),this.socket.on("date request",(function(e){L.dispatch(lt(e))})),this.socket.on("date request response",(function(e){L.dispatch(lt(e));var t=e.type,n=e.dateId;"declined"===t?L.dispatch(function(e){return function(t,n){t({type:"STORE_DATES",payload:n().dates.filter((function(t){return t.id!==e})).map((function(e){return bt({},e)}))})}}(n)):L.dispatch(function(e,t){return function(n,r){n({type:"STORE_DATES",payload:r().dates.map((function(n){var r=bt({},n);return n.id===e&&(r=bt(bt({},n),t)),r}))})}}(n,{status:"accepted"}))}))}},{key:"joinRoom",value:function(e){this.socket.emit("joinRoom",e)}}]),e}(),vt=function(){function e(){a()(this,e)}return c()(e,null,[{key:"isDisplayNameInvalid",value:function(e){return!e||e.trim().length<3||!/^(?=.*[^\W_])[\w ]*$/.test(e)}},{key:"isEmailInvalid",value:function(e){return!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}},{key:"isPasswordInvalid",value:function(e){return!e||e.trim().length<6}},{key:"isSearchRadiusInvalid",value:function(e){var t=parseInt(e,10);return!/^([1-9][0-9]*(\.[0-9]+)?|0+\.[0-9]*[1-9][0-9]*)$/g.test(t)}},{key:"isInputInvalid",value:function(e,t){var n=!0;switch(e){case"displayName":n=this.isDisplayNameInvalid(t);break;case"email":n=this.isEmailInvalid(t);break;case"location":n=!1;break;case"searchRadius":n=this.isSearchRadiusInvalid(t);break;default:n=!0}return n}}]),e}(),Et=n(25),Pt=function(){function e(){a()(this,e)}return c()(e,null,[{key:"getStarIcon",value:function(e,t){var n=e%1,r=0!==n,a=Math.floor(e),o="star";return t>a&&(o="star-outline",r&&t-1===a&&(o="star-half",n<=.29?o="star-outline":n>=.79&&(o="star"))),o}},{key:"getRatingColor",value:function(e){var t=Et.c;return e<=2.29?t=Et.l:e<=3.29&&(t=Et.q),t}}]),e}(),wt=function(){function e(){a()(this,e)}return c()(e,null,[{key:"convertMilesToMeters",value:function(e){return 1609.344*e}}]),e}(),jt=function(){function e(){a()(this,e)}return c()(e,null,[{key:"getUnseenNotificationIds",value:function(e){return e.filter((function(e){var t=e.type;return"unseen"===e.status&&!("date request"===t)})).map((function(e){return e.id}))}},{key:"getAllUnseenNotificationIds",value:function(e){return e.filter((function(e){return"unseen"===e.status})).map((function(e){return e.id}))}}]),e}();function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xt=wt.convertMilesToMeters,It=function(){function e(){a()(this,e)}return c()(e,null,[{key:"getNearbyPlaces",value:function(e,t,n,r){var a,o,c;return Be.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=xt(n),o="      "+We+"      ?latitude="+e+"      &longitude="+t+"      &radius="+a+"      "+(r?"&pagetoken="+r:"")+"    ",i.next=4,Be.a.awrap(at.getIdToken());case 4:if(c=i.sent){i.next=7;break}throw new Error("Invalid or missing ID Token");case 7:return i.abrupt("return",fetch(o.replace(/ /g,""),{headers:Tt(Tt({},Ye),{},{Authorization:"Basic "+c})}));case 8:case"end":return i.stop()}}),null,null,null,Promise)}},{key:"getPlaceDetailData",value:function(e){var t,n;return Be.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=Xe+"?place_id="+e,r.next=3,Be.a.awrap(at.getIdToken());case 3:if(n=r.sent){r.next=6;break}throw new Error("Invalid or missing ID Token");case 6:return r.abrupt("return",fetch(t,{headers:Tt(Tt({},Ye),{},{Authorization:"Basic "+n})}));case 7:case"end":return r.stop()}}),null,null,null,Promise)}},{key:"getPlaceImage",value:function(e){var t,n;return Be.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=qe+"?photo_reference="+e,r.next=3,Be.a.awrap(at.getIdToken());case 3:if(n=r.sent){r.next=6;break}throw new Error("Invalid or missing ID Token");case 6:return r.abrupt("return",fetch(t,{headers:Tt(Tt({},Ye),{},{Authorization:"Basic "+n})}));case 7:case"end":return r.stop()}}),null,null,null,Promise)}}]),e}();function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kt=function(){function e(){a()(this,e)}return c()(e,null,[{key:"getSelectedPlaces",value:function(e,t){var n;return Be.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Be.a.awrap(at.getIdToken());case 2:return n=r.sent,r.abrupt("return",fetch(Je+"/"+e+"/dates/"+t+"/places",{method:"GET",headers:Ct(Ct({},Ye),{},{Authorization:"Basic "+n})}).then((function(e){return e.json()})));case 4:case"end":return r.stop()}}),null,null,null,Promise)}},{key:"updateSelectedPlaces",value:function(e,t,n){var r;return Be.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Be.a.awrap(at.getIdToken());case 2:return r=a.sent,a.abrupt("return",fetch(Je+"/"+e+"/dates/"+t+"/places",{method:"PUT",headers:Ct(Ct({},Ye),{},{Authorization:"Basic "+r}),body:JSON.stringify({selectedPlaces:n})}));case 4:case"end":return a.stop()}}),null,null,null,Promise)}}]),e}(),At=function(){return function(e,t){var n,r,a;return Be.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n=t().user,r=n.email,a=n.password,o.next=4,Be.a.awrap(at.signInEmail(r.trim(),a.trim()));case 4:e(Nt()),o.next=10;break;case 7:o.prev=7,o.t0=o.catch(0),alert(o.t0);case 10:case"end":return o.stop()}}),null,null,[[0,7]],Promise)}},_t=function(){return function(e){return Be.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Be.a.awrap(at.logOut());case 3:e({type:"LOG_OUT",payload:{}}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert(t.t0);case 9:case"end":return t.stop()}}),null,null,[[0,6]],Promise)}},Rt=function(){return function(e,t){var n,r,a,o,c,i,s;return Be.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,n=t().user,r=n.displayName,a=n.email,o=n.password,c=a.trim(),u.next=5,Be.a.awrap(at.signUpEmail(c,o.trim()));case 5:if(!(i=u.sent)){u.next=11;break}return s={uid:i,displayName:r.trim(),email:c},u.next=10,Be.a.awrap(at.updateProfile(s.displayName,"displayName"));case 10:e({type:"SIGN_UP",payload:s});case 11:u.next=16;break;case 13:u.prev=13,u.t0=u.catch(0),alert(u.t0);case 16:case"end":return u.stop()}}),null,null,[[0,13]],Promise)}},Nt=function(){return function(e){var t;return Be.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Be.a.awrap(at.getUser());case 3:t=n.sent,e({type:"LOGIN",payload:t}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),alert(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]],Promise)}},Lt=Te.a.create({marginY15:{marginVertical:15}}),Ut="3 characters of letters, numbers, spaces, and underscores!",zt="Email address is invalid!",Bt="Password must be at least 6 characters!",Mt={DISPLAY_NAME_PLACEHOLDER:"janie",EMAIL_PLACEHOLDER:"jane.doe@example.com",PASSWORD_PLACEHOLDER:"Must be at least 6 characters",LOGIN_SUBHEADING:"Login to your account",SIGN_UP_SUBHEADING:"Sign up for a new account",HOME_TEXT:"Home",LOGIN_TEXT:"Login",LOGOUT_TEXT:"Log Out",SIGN_UP_ROUTE_TEXT:"Sign up for a new account",LOGIN_ROUTE_TEXT:"Login to an existing account",DISPLAY_NAME_INPUT_LABEL:"Username",EMAIL_INPUT_LABEL:"Email",PASSWORD_INPUT_LABEL:"Password",INVALID_DISPLAY_NAME:Ut,INVALID_EMAIL:zt,INVALID_PASSWORD:Bt,INVALID_LOCATION:"Location is invalid!",INVALID_SEARCH_RADIUS:"Search radius is invalid!",INVALID_CONFIRM_PASSWORD:"Passwords must match!",LOGIN_ROUTE:"Login",LOG_OUT_ROUTE:"Log Out",SIGN_UP_ROUTE:"Sign Up",HOME_ROUTE:"Home",ACCOUNT_ROUTE:"Account",DATES_ROUTE:"Dates",SELECTED_PLACES_ROUTE:"Selected Places"},Ht=Ie.innerContainer,Vt=Ie.width100,Gt=Lt.marginY15;function Ft(e){var t=e.isSignUpPage,n=e.theme,r=Object(y.d)((function(e){return e.user})),a=Object(y.c)(),o=Object(f.useState)(!1),c=M()(o,2),i=c[0],s=c[1],u=Object(f.useState)(!1),l=M()(u,2),p=l[0],d=l[1],m=Object(f.useState)(!1),b=M()(m,2),O=b[0],g=b[1],v=Object(f.useState)(!1),E=M()(v,2),P=E[0],w=E[1],j=Object(f.useState)(!1),S=M()(j,2),T=S[0],x=S[1],I=Object(f.useState)(!1),D=M()(I,2),C=D[0],k=D[1],A=ge.a.select({native:!0,default:!1}),_=r.displayName,R=r.email,N=r.password,L=t?"Sign Up":"Login",U=t&&!_||!R||!N||i&&p||O&&P||T&&C;return h.a.createElement(Le.a,{style:[Ht,{backgroundColor:n.colors.surface}]},t&&h.a.createElement(Oe.a,{style:[Gt]},h.a.createElement(Ue.a,{label:"Username",value:_||"",placeholder:"janie",dense:A,mode:"outlined",autoCapitalize:"none",error:p,onBlur:function(){d(vt.isDisplayNameInvalid(_)),s(!0)},onChangeText:function(e){a(function(e){return{type:"STORE_DISPLAY_NAME",payload:e}}(e)),i&&d(vt.isDisplayNameInvalid(e))},style:[Vt]}),h.a.createElement(Ne.a,{type:"error",visible:p,style:{display:ge.a.select({native:p?"flex":"none",default:"flex"})}},Ut)),h.a.createElement(Oe.a,{style:[Gt]},h.a.createElement(Ue.a,{label:"Email",value:R||"",placeholder:"jane.doe@example.com",dense:A,mode:"outlined",autoCapitalize:"none",error:P,onBlur:function(){w(vt.isEmailInvalid(R)),g(!0)},onChangeText:function(e){a(function(e){return{type:"STORE_EMAIL",payload:e}}(e)),O&&w(vt.isEmailInvalid(e))},style:[Vt]}),h.a.createElement(Ne.a,{type:"error",visible:P,style:{display:ge.a.select({native:P?"flex":"none",default:"flex"})}},zt)),h.a.createElement(Oe.a,{style:[Gt]},h.a.createElement(Ue.a,{label:"Password",value:N||"",placeholder:"Must be at least 6 characters",dense:A,mode:"outlined",secureTextEntry:!0,error:C,onBlur:function(){k(vt.isPasswordInvalid(N)),x(!0)},onChangeText:function(e){a(function(e){return{type:"STORE_PASSWORD",payload:e}}(e)),T&&k(vt.isPasswordInvalid(e))},style:[Vt]}),h.a.createElement(Ne.a,{type:"error",visible:C,style:{display:ge.a.select({native:C?"flex":"none",default:"flex"})}},Bt)),h.a.createElement(Re.a,{disabled:U,mode:"contained",onPress:function(){a((t?Rt:At)())},style:[Vt,Gt]},L))}Ft.propTypes=le.propTypes;var Wt=Object(Pe.b)(Ft),Xt=n(28),qt=n.n(Xt),Yt=n(77),Jt=n(75),Kt=n(203),$t=n(256),Zt=Ie.marginHorizontalAuto,Qt=Ie.marginBottom0,en=Ie.width50;function tn(e){var t=e.isShown,n=e.titleText,r=e.children,a=e.isSubmitDisabled,o=e.submitText,c=e.cancelText,i=e.isConfirmDialog,s=e.handleOnDismiss,u=e.handleOnSubmit,l=e.titleStyles,p=void 0===l?[]:l;return h.a.createElement($t.a,null,h.a.createElement(Kt.a,{visible:t,onDismiss:s,onPress:function(){return Yt.a.dismiss()},style:[ge.a.select({web:[Zt,en]})]},h.a.createElement(Jt.a,{onPress:function(){return Yt.a.dismiss()}},h.a.createElement(Oe.a,null,h.a.createElement(Kt.a.Title,{style:[Qt].concat(qt()(p))},n),r&&h.a.createElement(Kt.a.Content,null,r),h.a.createElement(Kt.a.Actions,null,i&&h.a.createElement(Re.a,{onPress:s},c||"Cancel"),h.a.createElement(Re.a,{disabled:a,onPress:u},o||"Update"))))))}function nn(e){var t=e.isShown,n=e.dialogContent,r=e.handleInputOnBlur,a=e.handleOnDismiss,o=e.handleOnSubmit,c=Object(y.d)((function(e){return e.theme.themeColor})),i=n.title,s=n.description,u=n.keyboardType,l=n.isInputInvalid,p=n.invalidMessage,d=Object(f.useState)(s),m=M()(d,2),b=m[0],O=m[1];return h.a.createElement(tn,{isShown:t,titleText:i,isSubmitDisabled:l||b===s,handleOnDismiss:a,handleOnSubmit:function(){return o(b)}},h.a.createElement(f.Fragment,null,h.a.createElement(Ue.a,{key:i,value:b,dense:!0,keyboardType:u,keyboardAppearance:c,mode:"outlined",autoCapitalize:"none",textAlign:"left",error:l,onBlur:r,onChangeText:function(e){return O(e)}}),h.a.createElement(Ne.a,{type:"error",visible:l,style:{display:ge.a.select({native:l?"flex":"none",default:"flex"})}},p)))}var rn=n(402),an=n(404),on=n(648),cn=n(247),sn=n(178),un=n.n(sn),ln=Ie.flexRow,pn=Ie.alignItemsCenter;function dn(){var e=Object(y.c)(),t=Object(y.d)((function(e){return e.theme.themeColor})),n=Object(f.useState)("dark"===t),r=M()(n,2),a=r[0],o=r[1],c=function(){return o(!a)};return Object(f.useEffect)((function(){var n=a?"dark":"light";n!==t&&e(function(e){return function(t){return Be.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Be.a.awrap(un.a.setItem("themeColor",e));case 3:t({type:"SET_THEME_COLOR",payload:e}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),alert(n.t0);case 9:case"end":return n.stop()}}),null,null,[[0,6]],Promise)}}(n))}),[a]),h.a.createElement(on.a,{style:[ln,pn]},h.a.createElement(an.a,{icon:function(e){var t=e.color,n=e.size;return h.a.createElement(rn.a,{name:"theme-light-dark",color:t,size:n})},label:"Dark Mode",onPress:c,style:[{flex:1}]}),h.a.createElement(cn.a,{value:a,onValueChange:c,style:[{marginHorizontal:8}]}))}var fn=n(248),hn=Te.a.create({infoContainer:{marginVertical:16,paddingLeft:20},title:{fontSize:24},caption:{fontSize:12}}),mn=hn.infoContainer,yn=hn.title,bn=hn.caption,On=Ie.marginVertical0,gn=Ie.textLeft;function vn(){var e=Object(y.d)((function(e){return e.user})),t=e.displayName,n=e.email;return h.a.createElement(Oe.a,{style:[mn]},h.a.createElement(Se.a,{style:[gn,On,yn]},t),h.a.createElement(fn.a,{style:[gn,On,bn]},n))}var En=n(181),Pn=n(46),wn=Ie.flexRow,jn=Ie.justifyContentCenter;function Sn(e){var t=e.rating,n=Pt.getRatingColor(t);return h.a.createElement(Oe.a,{style:[wn,jn]},[1,2,3,4,5].map((function(e){return h.a.createElement(rn.a,{key:"star-rating-"+e,name:Pt.getStarIcon(t,e),color:n,size:36})})))}Sn.propTypes=me.propTypes;var Tn=Sn,xn=Te.a.create({outerView:{marginVertical:8}}),In=["Free","Inexpensive","Moderately Expensive","Expensive","Very Expensive"],Dn=xn.outerView,Cn=Ie.flexRow,kn=Ie.justifyContentCenter,An=Ie.textCenter;function _n(e){for(var t=e.pricingLevel,n=e.theme.colors,r=In[t],a=[],o=0;o<=t;o++)a.push(h.a.createElement(rn.a,{key:"pricing-icon-"+o,name:"currency-usd",color:n.text,size:36}));return h.a.createElement(Oe.a,{style:[Dn]},h.a.createElement(Oe.a,{style:[Cn,kn]},a),h.a.createElement(Pn.a,{style:[An,{color:n.text}]},r))}_n.propTypes=he.propTypes;var Rn=Object(Pe.b)(_n);function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ln=Te.a.create({cardCover:{height:"35%"},cardTitle:{paddingHorizontal:16},pricingText:{fontSize:32},loadingCardTitle:{width:"50%",height:40,marginHorizontal:"auto",marginVertical:10},loadingCardSubtitle:{height:25,width:"75%",marginHorizontal:"auto"},loadingRating:{width:"25%",height:50,marginHorizontal:"auto",marginVertical:15},loadingDataContainer:{height:50},loadingData:{width:"15%",height:"100%"},statusContainer:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:"absolute",justifyContent:"center",zIndex:2,transform:[{rotate:"335deg"}],padding:20,shadowColor:"black",shadowOffset:{width:2,height:5},shadowOpacity:.75,elevation:1,borderWidth:5},ge.a.select({native:{top:30,left:10,borderRadius:90,width:180},web:{top:35,left:25,borderRadius:115,width:230}})),statusText:{textAlign:"center",fontSize:32,fontWeight:"bold",textTransform:"capitalize",textShadowColor:"black",textShadowOffset:{width:4,height:4},textShadowRadius:2}});function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var zn=Ln.loadingCardTitle,Bn=Ln.loadingCardSubtitle;function Mn(e){var t=e.theme.colors.backdrop;return h.a.createElement(Oe.a,null,h.a.createElement(Oe.a,{style:[zn,{backgroundColor:t}]}),h.a.createElement(Oe.a,{style:[Bn,{backgroundColor:t}]}))}Mn.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ae.propTypes);var Hn=Object(Pe.b)(Mn);function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Gn=Ln.loadingRating,Fn=Ln.loadingDataContainer,Wn=Ln.loadingData,Xn=Ie.flexRow,qn=Ie.justifyContentAround,Yn=Ie.alignItemsCenter,Jn=Ie.width100;function Kn(e){var t=e.theme.colors.backdrop;return h.a.createElement(f.Fragment,null,h.a.createElement(Oe.a,{style:[Gn,{backgroundColor:t}]}),h.a.createElement(Oe.a,{style:[Xn,qn,Yn,Jn,Fn]},h.a.createElement(Oe.a,{style:[Wn,{backgroundColor:t}]}),h.a.createElement(Oe.a,{style:[Wn,{backgroundColor:t}]})))}Kn.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ae.propTypes);var $n=Object(Pe.b)(Kn);function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e){var t=e.theme.colors.backdrop;return h.a.createElement(f.Fragment,null,h.a.createElement(rn.a,{name:"check-outline",color:t,size:48}),h.a.createElement(rn.a,{name:"close-outline",color:t,size:48}))}Qn.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ae.propTypes);var er=Object(Pe.b)(Qn),tr="https://via.placeholder.com/1600x250?text=Loading...+Please+Wait",nr="You've seen all places in your search radius",rr=Ln.statusContainer,ar=Ln.statusText;function or(e){var t=e.isSelected,n=t?"Chosen":"Rejected",r=t?Et.d:Et.m,a=t?"rgba(56, 142, 60, 0.25)":"rgba(211, 47, 47, 0.25)",o=t?Et.d:Et.m;return h.a.createElement(Oe.a,{style:[rr,{borderColor:r,backgroundColor:a}]},h.a.createElement(Pn.a,{style:[ar,{color:o}]},n))}or.propTypes=be.propTypes;var cr=or,ir=Ln.cardCover,sr=Ln.cardTitle,ur=Ln.pricingText,lr=Ie.textCenter,pr=Ie.flexRow,dr=Ie.flex1,fr=Ie.justifyContentAround,hr=Ie.justifyContentCenter,mr=Ie.alignItemsCenter,yr=Ie.elevation12;function br(e){var t=e.placeData,n=e.cardIndex,r=e.handleChooseOnPress,a=e.handleRejectPlaceOnPress,o=e.handleBackOnPress,c=t.place_id,i=t.photoUrl,s=t.name,u=t.open_now,l=t.price_level,p=t.rating,d=t.vicinity,m=!c,b=Object(y.d)((function(e){return e.places})).viewedIds,O=void 0===b?[]:b,g=Object(y.d)((function(e){return e.user})).selectedPlaces,v=(void 0===g?[]:g).map((function(e){return e.place_id})),E=O.includes(c),P=E&&v.includes(c),w=i||tr,j=u?"Open":"Closed",S=n>0;return h.a.createElement(En.a,{style:[dr,yr]},E&&h.a.createElement(cr,{isSelected:P}),h.a.createElement(En.a.Cover,{source:{uri:w},style:[ir]}),m?h.a.createElement(Hn,null):h.a.createElement(En.a.Title,{title:s,subtitle:d,titleNumberOfLines:2,titleStyle:[lr],subtitleStyle:[lr],style:[sr]}),h.a.createElement(En.a.Content,{style:[dr,fr]},m?h.a.createElement($n,null):h.a.createElement(f.Fragment,null,p>=0&&h.a.createElement(Tn,{rating:p}),h.a.createElement(Oe.a,{style:[pr,fr,mr,{flexWrap:"wrap"}]},l&&h.a.createElement(Rn,{pricingLevel:l}),h.a.createElement(Pn.a,{style:[lr,ur]},j)))),h.a.createElement(En.a.Actions,{style:[hr]},m?h.a.createElement(er,null):h.a.createElement(f.Fragment,null,h.a.createElement(Oe.a,{style:[{flex:1,margin:6}]},S&&h.a.createElement(Ee.a,{icon:"arrow-left",color:Et.b,size:48,onPress:o})),h.a.createElement(Ee.a,{icon:"check-outline",color:Et.c,size:48,onPress:function(){return r(n)},style:[{flex:2}]}),h.a.createElement(Ee.a,{icon:"close-outline",color:Et.l,size:48,onPress:function(){return a(n)},style:[{flex:1}]}))))}br.defaultProps=fe.defaultProps,br.propTypes=fe.propTypes;var Or=br,gr=n(2),vr=n.n(gr),Er=n(39),Pr=n(403),wr=Ie.textCenter,jr=Ie.width50,Sr=Ie.width100,Tr=Ie.marginHorizontalAuto;function xr(e){var t=e.handleResetViewedIds,n=e.handleIncreaseSearchRadius;return h.a.createElement(Oe.a,{style:[{width:"100%"}]},h.a.createElement(Pn.a,{style:[wr,{fontSize:18,marginVertical:18}]},nr),h.a.createElement(Oe.a,{style:[Tr,ge.a.select({web:jr,native:Sr})]},h.a.createElement(Re.a,{mode:"outlined",onPress:t,style:[{marginBottom:25}]},"Reset viewed places"),h.a.createElement(Re.a,{mode:"outlined",onPress:n},"Increase search radius")))}function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cr=function(e){return{type:"UPDATE_PLACES",payload:e}},kr=function(e){return function(t,n){var r=n().places.viewedIds,a=void 0===r?[]:r;a.push(e),t({type:"ADD_SEEN_PLACE_ID",payload:a})}},Ar=function(e){return{type:"UPDATE_VIEWED_IDS",payload:e}},_r=function(e,t,n){return function(r,a){var o,c;return Be.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return o=a().places.selected,c=(c=void 0===o?[]:o).map((function(e){var r=Dr({},e);return e.dateId===t&&r.selectedPlaces.push(n),r})),i.next=4,Be.a.awrap(kt.updateSelectedPlaces(e,t,c));case 4:r({type:"STORE_SELECTED_PLACE",payload:c});case 5:case"end":return i.stop()}}),null,null,null,Promise)}},Rr=function(e,t,n){return function(r,a){var o,c;return Be.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return o=a().places.selected,c=(c=void 0===o?[]:o).map((function(e){var r=Dr({},e);return e.dateId===n&&(r.selectedPlaces=r.selectedPlaces.filter((function(e){return e.place_id!==t}))),r})),i.next=4,Be.a.awrap(kt.updateSelectedPlaces(e,n,c));case 4:r({type:"STORE_SELECTED_PLACE",payload:c});case 5:case"end":return i.stop()}}),null,null,null,Promise)}},Nr=function(e,t){return function(n){var r;return Be.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Be.a.awrap(kt.getSelectedPlaces(e,t));case 2:r=a.sent,n({type:"STORE_SELECTED_PLACE",payload:r});case 4:case"end":return a.stop()}}),null,null,null,Promise)}};function Lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zr=Te.a.create({swiperContainer:Ur({},ge.a.select({web:{justifyContent:"center",alignItems:"center"}})),cardStyle:Ur({flex:1,borderRadius:4},ge.a.select({native:{top:10,height:"95%"},web:{position:"static",marginHorizontal:"auto",marginVertical:25,width:"75%"}}))});function Br(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var Mr=zr.swiperContainer,Hr=zr.cardStyle,Vr=Ie.flex1,Gr=Ie.width100,Fr=Er.a.get("window").width,Wr=function(e){s()(n,e);var t=Br(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).swiper=h.a.createRef(),r.state={isAllSwiped:!1},r.handleBackOnPress=r.handleBackOnPress.bind(vr()(r)),r.handleRejectPlaceOnPress=r.handleRejectPlaceOnPress.bind(vr()(r)),r.handleResetViewedIds=r.handleResetViewedIds.bind(vr()(r)),r.handleIncreaseSearchRadius=r.handleIncreaseSearchRadius.bind(vr()(r)),r}return c()(n,[{key:"handleRejectPlaceOnPress",value:function(e){var t=this.props,n=t.cards;(0,t.handleRemoveAcceptedPlace)(n[e].place_id),this.swiper.swipeLeft()}},{key:"handleBackOnPress",value:function(){var e=this.props,t=e.currentCardIndex,n=e.updateCardIndex;this.swiper.swipeBottom(!0),n(t-1)}},{key:"handleResetViewedIds",value:function(){this.setState((function(){return{isAllSwiped:!1}}),this.props.handleResetViewedPlaces)}},{key:"handleIncreaseSearchRadius",value:function(){var e=this.props.navigation;this.setState((function(){return{isAllSwiped:!1}}),(function(){return e.navigate("Account")}))}},{key:"render",value:function(){var e=this,t=this.state.isAllSwiped,n=this.props,r=n.cards,a=n.currentCardIndex,o=n.updateNextPlace,c=n.handleChoosePlace,i="web"!==ge.a.OS,s=Fr/4;return h.a.createElement(Oe.a,{style:[Vr,Gr]},r&&r.length?h.a.createElement(Oe.a,{style:[Vr,Gr]},t?h.a.createElement(xr,{handleResetViewedIds:this.handleResetViewedIds,handleIncreaseSearchRadius:this.handleIncreaseSearchRadius}):h.a.createElement(Pr.a,{key:r.length+"-"+t,ref:function(t){return e.swiper=t},cards:r,stackSize:3,cardIndex:a,showSecondCard:i,verticalSwipe:!1,infinite:!1,stackSeparation:40,stackScale:10,stackAnimationFriction:5,stackAnimationTension:80,inputRotationRange:[-s,0,s],outputRotationRange:["-15deg","0deg","15deg"],animateCardOpacity:!0,renderCard:function(t,n){return h.a.createElement(Or,{placeData:t,cardIndex:n,handleChooseOnPress:function(){return e.swiper.swipeRight()},handleRejectPlaceOnPress:e.handleRejectPlaceOnPress,handleBackOnPress:e.handleBackOnPress})},onSwipedRight:function(e){c(e),o(e)},onSwipedLeft:o,onSwipedAll:function(){return e.setState((function(){return{isAllSwiped:!0}}))},backgroundColor:"transparent",containerStyle:Te.a.flatten(Mr),cardStyle:Hr})):null)}}]),n}(f.Component);Wr.propTypes=ye.propTypes;var Xr=Object(y.b)((function(e){return{user:e.user}}),(function(e){return Object(b.b)({updateViewedIds:Ar},e)}))(Wr),qr=vt.isPasswordInvalid,Yr=Ie.textCenter,Jr=Ie.width100;function Kr(e){var t=e.isShown,n=e.handleOnDismiss,r=e.handleOnConfirm,a=Object(f.useState)(""),o=M()(a,2),c=o[0],i=o[1],s=Object(f.useState)(!1),u=M()(s,2),l=u[0],p=u[1],d=Object(f.useState)(!1),m=M()(d,2),b=m[0],O=m[1],g=Object(y.d)((function(e){return e.theme.themeColor}));return h.a.createElement(tn,{isShown:t,titleText:"Confirm password to continue",isSubmitDisabled:!c||b,handleOnDismiss:n,handleOnSubmit:function(){qr(c)||r(c.trim())},titleStyles:[Yr]},h.a.createElement(f.Fragment,null,h.a.createElement(Ue.a,{value:c||"",dense:!0,mode:"outlined",keyboardAppearance:g,secureTextEntry:!0,error:b,onBlur:function(){O(qr(c)),p(!0)},onChangeText:function(e){i(e),l&&O(qr(e))},style:[Jr]}),h.a.createElement(Ne.a,{type:"error",visible:b,style:{display:ge.a.select({native:qr?"flex":"none",default:"flex"})}},Bt)))}function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var ea=vt.isPasswordInvalid,ta=Ie.textCenter,na=Ie.width100,ra=function(e){s()(n,e);var t=Qr(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={currentPassword:{value:"",isDirty:!1,isInvalid:!1},newPassword:{value:"",isDirty:!1,isInvalid:!1},confirmPassword:{value:"",isDirty:!1,isInvalid:!1},isPasswordsMatched:!0},r.handleOnChange=r.handleOnChange.bind(vr()(r)),r.handleOnBlur=r.handleOnBlur.bind(vr()(r)),r.handleOnSubmit=r.handleOnSubmit.bind(vr()(r)),r}return c()(n,[{key:"handleOnChange",value:function(e,t){var n=this.state[t],r=n.isDirty,a=n.isInvalid,o=this.state.isPasswordsMatched;r&&(a=ea(e),"confirmPassword"===t&&(o=e===this.state.newPassword.value,a=a||!o)),this.setState((function(){return v()({isPasswordsMatched:o},t,Zr(Zr({},n),{},{isInvalid:a,value:e}))}))}},{key:"handleOnBlur",value:function(e){var t=this.state[e],n=t.value,r=ea(n),a=this.state.isPasswordsMatched;"confirmPassword"===e&&(a=n===this.state.newPassword.value,r=r||!a),this.setState((function(){return v()({isPasswordsMatched:a},e,Zr(Zr({},t),{},{isDirty:!0,isInvalid:r}))}))}},{key:"handleOnSubmit",value:function(){var e=this,t=this.state,n=t.currentPassword,r=n.value,a=n.isInvalid,o=t.newPassword,c=o.isInvalid,i=o.value,s=t.confirmPassword.isInvalid;a||c||s||at.authenticateUser(r.trim()).then((function(){return at.updatePassword(i.trim()).then(e.props.handleOnDismiss)})).catch((function(e){return alert(e.message)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.isPasswordsMatched,r=t.currentPassword,a=t.newPassword,o=t.confirmPassword,c=r.value,i=r.isInvalid,s=a.value,u=a.isInvalid,l=o.value,p=o.isInvalid,d=this.props,m=d.isShown,y=d.themeColor,b=d.handleOnDismiss,O=i||u||p||!c||!s||!l,g=[{label:"Current Password",stateProperty:"currentPassword",data:r},{label:"New Password",stateProperty:"newPassword",data:a},{label:"Confirm New Password",stateProperty:"confirmPassword",data:o}];return h.a.createElement(tn,{isShown:m,titleText:"Change your password",isSubmitDisabled:O,handleOnDismiss:b,handleOnSubmit:this.handleOnSubmit,titleStyles:[ta]},h.a.createElement(f.Fragment,null,g.map((function(t){var r=t.label,a=t.stateProperty,o=t.data,c=o.value,i=o.isInvalid;return h.a.createElement(Oe.a,{key:""+a},h.a.createElement(Ue.a,{label:r,value:c||"",dense:!0,mode:"outlined",keyboardAppearance:y,secureTextEntry:!0,error:i,onBlur:function(){return e.handleOnBlur(a)},onChangeText:function(t){return e.handleOnChange(t,a)},style:[na]}),h.a.createElement(Ne.a,{type:"error",visible:i,style:{display:ge.a.select({native:ea?"flex":"none",default:"flex"})}},"confirmPassword"!==a||n?Bt:"Passwords must match!"))}))))}}]),n}(f.Component),aa=Object(y.b)((function(e){return{themeColor:e.theme.themeColor}}))(ra),oa=vt.isEmailInvalid,ca=Ie.textCenter,ia=Ie.width100,sa=Ie.marginBottom10;function ua(e){var t=e.buttonMode,n=e.buttonText,r=e.buttonIcon,a=e.titleText,o=e.inputPlaceholder,c=e.children,i=e.handleDialogOnSubmit,s=e.buttonStyle,u=void 0===s?[]:s,l=e.containerStyle,p=void 0===l?[]:l,d=Object(f.useState)(!1),m=M()(d,2),b=m[0],O=m[1],g=Object(f.useState)(""),v=M()(g,2),E=v[0],P=v[1],w=Object(f.useState)(!1),j=M()(w,2),S=j[0],T=j[1],x=Object(f.useState)(!1),I=M()(x,2),D=I[0],C=I[1],k=Object(y.d)((function(e){return e.theme.themeColor})),A=function(){return O(!1)};return h.a.createElement(Oe.a,{style:qt()(p)},h.a.createElement(Re.a,{mode:t,icon:r,onPress:function(){return O(!0)},style:qt()(u)},n),h.a.createElement(tn,{isShown:b,titleText:a,isSubmitDisabled:D||!E,submitText:"Send",handleOnDismiss:A,handleOnSubmit:function(){var e=E.trim();i(e),A()},titleStyles:[ca]},h.a.createElement(Ue.a,{value:E||"",placeholder:o,dense:!0,mode:"outlined",autoCapitalize:"none",keyboardType:"email-address",keyboardAppearance:k,error:D,onBlur:function(){C(oa(E)),T(!0)},onChangeText:function(e){P(e),S&&C(oa(e))},style:[ia]}),h.a.createElement(Ne.a,{type:"error",visible:D,style:[sa,{display:ge.a.select({native:D?"flex":"none",default:"flex"})}]},zt),c&&c))}var la=n(144),pa=n(650),da=n(649),fa=n(200),ha=n(394),ma=Te.a.create({menu:{marginTop:40,minWidth:280,maxWidth:280},headerContainer:{paddingBottom:8,paddingHorizontal:8},title:{marginHorizontal:8},actionsContainer:{paddingHorizontal:8},actionButton:{fontSize:10,marginTop:0},badge:{position:"relative",top:-8,left:-18},time:{fontSize:11},submenu:{marginRight:40},submenuToggle:{width:32}}),ya=ma.badge,ba=Ie.flex1,Oa=Ie.flexRow,ga=Ie.justifyContentCenter,va=Ie.alignItemsCenter,Ea=Ie.alignSelfCenter,Pa=Ie.margin0;var wa=Object(Pe.b)((function(e){var t=e.theme.colors,n=e.isOpen,r=e.unseenCount,a=e.handleOnPress;return h.a.createElement(Oe.a,{style:[ba,Oa,ga,va]},h.a.createElement(Ee.a,{icon:n?"bell":"bell-outline",color:t.primary,size:24,animated:!0,onPress:a,style:[Pa]}),h.a.createElement(Oe.a,{style:[{width:16}]},r>0&&h.a.createElement(ha.a,{visible:!0,size:16,style:[Ea,ya]},r)))})),ja=ma.headerContainer,Sa=ma.title;function Ta(){return h.a.createElement(Oe.a,{style:[ja]},h.a.createElement(Se.a,{style:[Sa]},"Notifications"))}var xa=n(401),Ia=ma.time,Da=Ie.flexRow,Ca=Ie.flex1,ka=Ie.flex2,Aa=Ie.justifyContentBetween,_a=Ie.alignItemsCenter,Ra=Ie.width100,Na=Ie.textRight;var La=Object(Pe.b)((function(e){var t=e.senderName,n=e.timestamp,r=e.theme.colors.text,a=Object(xa.a)(n).fromNow();return h.a.createElement(Oe.a,{style:[Da,Aa,_a,Ra]},h.a.createElement(Pn.a,{style:[ka]},t),h.a.createElement(Pn.a,{style:[Ca,Na,Ia,{color:r}]},a))})),Ua=ma.actionsContainer,za=ma.actionButton,Ba=Ie.flexRow,Ma=Ie.justifyContentAround;function Ha(e){var t=e.handleAcceptOnPress,n=e.handleDeclineOnPress;return h.a.createElement(Oe.a,{style:[Ba,Ma,Ua]},h.a.createElement(Re.a,{color:Et.e,onPress:t,labelStyle:[za]},"Accept"),h.a.createElement(Re.a,{color:Et.o,onPress:n,labelStyle:[za]},"Decline"))}var Va=ma.submenu,Ga=ma.submenuToggle,Fa=Ie.cursorPointer,Wa=Ie.justifyContentCenter,Xa=Ie.margin0,qa=Ie.paddingVertical0;function Ya(e){var t=e.notificationId,n=Object(y.c)(),r=Object(f.useState)(!1),a=M()(r,2),o=a[0],c=a[1],i=function(){return c(!o)};return h.a.createElement(Oe.a,{style:[Wa]},h.a.createElement(fa.a,{visible:o,onDismiss:i,anchor:h.a.createElement(Ee.a,{icon:"dots-vertical",size:28,onPress:i,style:[Xa,Ga]}),contentStyle:[qa],style:[Va]},h.a.createElement(fa.a.Item,{title:"Delete",icon:"trash-can-outline",onPress:function(){it.deleteNotification(t).then((function(){return n(function(e){return function(t,n){t({type:"REMOVE_NOTIFICATION",payload:n().notifications.filter((function(t){return t.id!==e})).map((function(e){return ut({},e)}))})}}(t))})).catch((function(e){return alert(e.message)}))},style:[Fa]})))}var Ja=Ie.fontBold,Ka=Ie.paddingVertical0,$a=Ie.paddingLeft0,Za=Ie.marginBottom0;var Qa=Object(Pe.b)((function(e){var t=e.notification,n=e.theme,r=e.handleAccept,a=e.handleDecline,o=t.id,c=t.message,i=t.type,s=t.status,u=t.senderName,l=t.timestamp,p=n.colors,d="date request"===i,f="unseen"===s,m=f?p.backdrop:"";return h.a.createElement(Oe.a,{style:[{backgroundColor:m}]},h.a.createElement(da.a,{title:h.a.createElement(La,{senderName:u,timestamp:l}),description:c,right:function(){return h.a.createElement(Ya,{notificationId:o})},titleStyle:[Ja],style:[Ka,$a,Za]}),d&&f&&h.a.createElement(Ha,{handleAcceptOnPress:function(){return r(t)},handleDeclineOnPress:function(){return a(t)}}))})),eo=function(e){return{type:"STORE_PAGE_ALERT",payload:e}},to=ma.menu,no=Ie.flex1,ro=Ie.alignItemsCenter;function ao(e){var t=e.notifications,n=Object(y.c)(),r=Object(y.d)((function(e){return e.user})),a=Object(f.useState)(!1),o=M()(a,2),c=o[0],i=o[1],s=t.filter((function(e){return"unseen"===e.status})).length,u=t.length,l=function(){return i(!c)};Object(f.useEffect)((function(){if(c){var e=jt.getUnseenNotificationIds(t);it.updateMany(e).then((function(){return setTimeout((function(){return n((t=e,function(e,n){e({type:"STORE_NOTIFICATION",payload:n().notifications.map((function(e){var n=e.id,r=ut({},e);return t.includes(n)&&(r=ut(ut({},e),{},{status:"seen"})),r}))})}));var t}),1e3)})).catch((function(e){return alert(e.message)}))}}),[c]);var p=function(e){var t=e.id,a=e.dateId,o=e.senderId,c=e.receiverId;mt.updateDate(a,o,c).then(it.updateNotification(t)).then((function(){var e={isShown:!0,isConfirm:!0,message:"Make this your current date?",submitText:"Yes",cancelText:"No",handleSubmit:function(){return Be.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.a.awrap(at.updateUser({uid:c,currentDateId:a}));case 2:n(eo(C));case 3:case"end":return e.stop()}}),null,null,null,Promise)},handleCancel:function(){return n(eo(C))}};return n(eo(e))})).then((function(){var e=r.uid;n(pt(a)),n(function(e){return function(t){var n;return Be.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Be.a.awrap(mt.getDate(e));case 3:n=r.sent,t(Ot(n)),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),alert(r.t0);case 10:case"end":return r.stop()}}),null,null,[[0,7]],Promise)}}(a)),n(Nr(e,a)),n(Nt())})).catch((function(e){return alert(e.message)}))},d=function(e){var t=e.id,r=e.dateId,a=e.senderId,o=e.receiverId;mt.deleteDate(r,a,o).then(it.updateNotification(t)).then((function(){return n(pt(r))})).catch((function(e){return alert(e.message)}))};return h.a.createElement(Oe.a,{style:[no,ro]},h.a.createElement(fa.a,{visible:c,onDismiss:l,anchor:h.a.createElement(wa,{isOpen:c,unseenCount:s,handleOnPress:l}),style:[to]},h.a.createElement(Ta,null),h.a.createElement(la.a,null),h.a.createElement(pa.a,null,0===u&&h.a.createElement(da.a,{title:"No Notifications"}),t.map((function(e,t){var n=e.type,r=e.status,a=e.message;return h.a.createElement(f.Fragment,{key:n+"-"+r+"-"+a+"-"+t},h.a.createElement(Qa,{notification:e,handleAccept:p,handleDecline:d}),h.a.createElement(la.a,null))})))))}var oo=Ie.flexRow,co=Ie.alignItemsCenter,io=Ie.marginHorizontal10;function so(){var e=Object(f.useState)(!0),t=M()(e,2),n=t[0],r=t[1],a=Object(y.c)(),o=Object(y.d)((function(e){return e.user})),c=o.uid,i=o.displayName,s=Object(y.d)((function(e){return e.socketIO}));return h.a.createElement(ua,{buttonMode:"outlined",buttonText:"Add New Date",buttonIcon:"plus",titleText:"Send a date request to begin matching",inputPlaceholder:"The email address of the other user",handleDialogOnSubmit:function(e){var t={userIdOne:c,status:"pending"};mt.createDate(t,e,i).then((function(e){return e.json()})).then((function(e){var t;return Be.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.error){r.next=2;break}throw new Error(e.error.message);case 2:if(t=e.id,!n){r.next=7;break}return r.next=6,Be.a.awrap(at.updateUser({uid:c,currentDateId:t}));case 6:a(Nt());case 7:a(Ot(e)),a(Nr(c,t)),s.joinRoom(t);case 10:case"end":return r.stop()}}),null,null,null,Promise)})).catch((function(e){return alert(e.message)}))},containerStyle:[{marginTop:15}],buttonStyle:[{borderWidth:0}]},h.a.createElement(Oe.a,{style:[oo,co]},h.a.createElement(cn.a,{value:n,onValueChange:function(){return r(!n)}}),h.a.createElement(Pn.a,{style:[io]},"Make Current Date?")))}function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var po=Ie.width100,fo=Ie.textCenter,ho=Ie.margin0,mo=Ie.marginHorizontal10,yo=Ie.flexRow,bo=Ie.justifyContentBetween,Oo=Ie.alignItemsCenter,go=Ie.flex1,vo=Ie.flex4;function Eo(e){var t=e.scene,n=e.navigation,r=e.theme,a=Object(y.d)((function(e){return e.user.uid})),o=Object(y.d)((function(e){return e.notifications.sort((function(e,t){return t.timestamp-e.timestamp}))})),c=r.colors;return h.a.createElement(ve.b.Header,{theme:{colors:{primary:c.surface}}},h.a.createElement(Oe.a,{style:[po,yo,bo,Oo]},h.a.createElement(Oe.a,{style:[go]},a&&h.a.createElement(Ee.a,{icon:"menu",color:c.primary,size:40,onPress:n.openDrawer,style:[ho]})),h.a.createElement(ve.b.Content,{title:h.a.createElement(we.a,{to:"/"+(a?"Home":"Login")},"Munch Match"),subtitle:"web"!==ge.a.OS?t.route.name:"",color:c.text,titleStyle:[fo],subtitleStyle:[fo],style:[mo,vo]}),h.a.createElement(Oe.a,{style:[go]},a&&h.a.createElement(ao,{notifications:o}))))}Eo.propTypes=lo(lo({},Z.propTypes),Q.propTypes);var Po=Object(Pe.b)(Eo),wo=n(654),jo=k.APP_NAME,So=D.FORGOT_PASSWORD_TEXT,To=D.RESET_PASSWORD_TITLE_TEXT,xo=D.RESET_PASSWORD_EMAIL_SENT,Io=D.RESET_PASSWORD_PLACEHOLDER,Do=Mt.LOGIN_SUBHEADING,Co=Mt.SIGN_UP_SUBHEADING,ko=Mt.LOGIN_ROUTE_TEXT,Ao=Mt.SIGN_UP_ROUTE_TEXT,_o=Mt.LOGIN_ROUTE,Ro=Mt.SIGN_UP_ROUTE,No=Ie.container;function Lo(e){var t=e.navigation,n=e.route,r=e.theme,a=n.name===Ro,o=a?Co:Do,c=a?ko:Ao;return h.a.createElement(Le.a,{style:[No,{backgroundColor:r.colors.background}]},h.a.createElement(_e,{titleText:jo,subheadingText:o}),h.a.createElement(Wt,{isSignUpPage:a}),!a&&h.a.createElement(ua,{buttonMode:"text",buttonText:So,titleText:To,inputPlaceholder:Io,handleDialogOnSubmit:function(e){at.sendPasswordResetEmail(e).then((function(){return alert(xo+" "+e)})).catch((function(e){return alert(e.message)}))}}),h.a.createElement(Re.a,{onPress:function(){var e=a?_o:Ro;t.navigate(e)}},c))}Lo.propTypes=oe.propTypes;var Uo=Object(Pe.b)(Lo),zo=n(299),Bo=function(e){return{type:"UPDATE_LOCATION",payload:e}},Mo=function(e){return{type:"UPDATE_NEXT_PAGE_TOKEN",payload:e}},Ho=function(e){return function(t){return Be.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Be.a.awrap(un.a.setItem("searchRadius",e));case 3:t({type:"UPDATE_SEARCH_RADIUS",payload:e}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),alert(n.t0);case 9:case"end":return n.stop()}}),null,null,[[0,6]],Promise)}},Vo=function(){return function(e){return Be.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Be.a.awrap(un.a.getItem("searchRadius").then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"10";e({type:"UPDATE_SEARCH_RADIUS",payload:t||"10"})})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),alert(t.t0);case 8:case"end":return t.stop()}}),null,null,[[0,5]],Promise)}},Go=[{name:"ABC Company",open_now:!1,place_id:"dummyPlaceId1",price_level:1,rating:4,vicinity:"dummy vicinity",international_phone_number:"+1 234-567-8901",photoUrl:"https://via.placeholder.com/500?text=ABC+Company"},{name:"DEF Company",open_now:!0,place_id:"dummyPlaceId2",price_level:1,rating:4,vicinity:"dummy vicinity",international_phone_number:"+1 234-567-8901",photoUrl:"https://via.placeholder.com/500?text=DEF+Company"},{name:"GHI Company",open_now:!1,place_id:"dummyPlaceId3",price_level:1,rating:4,vicinity:"dummy vicinity",international_phone_number:"+1 234-567-8901",photoUrl:"https://via.placeholder.com/500?text=GHI+Company"}];function Fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fo(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var qo=function(e){s()(n,e);var t=Xo(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={currentCardIndex:0},r.handleChoosePlace=r.handleChoosePlace.bind(vr()(r)),r.handleRemoveAcceptedPlace=r.handleRemoveAcceptedPlace.bind(vr()(r)),r.getPlaces=r.getPlaces.bind(vr()(r)),r.updateNextPlace=r.updateNextPlace.bind(vr()(r)),r.handleResetViewedPlaces=r.handleResetViewedPlaces.bind(vr()(r)),r.updateCardIndex=r.updateCardIndex.bind(vr()(r)),r}return c()(n,[{key:"handleChoosePlace",value:function(e){var t=this.props,n=t.user,r=t.storeSelectedPlace,a=t.places,o=a.all,c=void 0===o?[]:o,i=a.selected,s=void 0===i?[]:i;if(!(e>=c.length)){var u=c[e],l=n.uid,p=n.currentDateId;if(p)if(!s.filter((function(e){return e.dateId===p}))[0].selectedPlaces.filter((function(e){return e.place_id===u.place_id}))[0]){var d=u.place_id,f=u.name,h=u.vicinity;r(l,p,{place_id:d,name:f,vicinity:h})}}}},{key:"handleRemoveAcceptedPlace",value:function(e){var t=this.props,n=t.user,r=n.uid,a=n.currentDateId;(0,t.removeSelectedPlace)(r,e,a)}},{key:"getPlaces",value:function(){var e,t,n,r,a,o,c;return Be.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=this.props,t=e.places,n=t.all,void 0===n?[]:n,r=t.viewedIds,void 0===r?[]:r,a=e.updatePlaces,e.updateNextPageToken,o=e.location,o.searchRadius,o.nextPageToken,c=o.coords,c.latitude,c.longitude,i.next=3,Be.a.awrap(a(Go));case 3:case"end":return i.stop()}}),null,this,null,Promise)}},{key:"updateNextPlace",value:function(e){var t,n,r,a,o,c,i,s,u,l,p,d,f,h;return Be.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(t=this.props,n=t.places,r=n.all,a=void 0===r?[]:r,o=n.viewedIds,c=void 0===o?[]:o,i=t.updatePlaces,s=t.addViewedPlaceId,u=t.location.nextPageToken,l=this.state.currentCardIndex+1,this.updateCardIndex(l),p=a.length,d=e+3,!(e>=p||d>=p)){m.next=7;break}return m.abrupt("return");case 7:if(u&&d===a.length-2&&this.getPlaces(),f=a[e].place_id,c.includes(f)){m.next=12;break}return m.next=12,Be.a.awrap(s(f));case 12:return h=a[d],m.next=15,Be.a.awrap(It.getPlaceDetailData(h.place_id).then((function(e){return e.json()})).then((function(e){var t,n,r;return Be.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.result,n=t.photos[0].photo_reference,o.next=4,Be.a.awrap(It.getPlaceImage(n).then((function(e){return e.json()})));case 4:return r=o.sent,a[d]=Wo(Wo(Wo({},t),h),r),o.next=8,Be.a.awrap(i(a));case 8:case"end":return o.stop()}}),null,null,null,Promise)})));case 15:case"end":return m.stop()}}),null,this,null,Promise)}},{key:"handleResetViewedPlaces",value:function(){var e=this;!function(){var t,n,r,a,o,c,i,s,u,l;Be.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.props,n=t.updateViewedIds,r=t.updatePlaces,a=t.updateNextPageToken,o=t.user.selectedPlaces,c=void 0===o?[]:o,i=t.places.viewedIds,s=void 0===i?[]:i,u=c.map((function(e){return e.place_id})),l=s.filter((function(e){return u.includes(e)})),p.next=5,Be.a.awrap(n(l));case 5:return p.next=7,Be.a.awrap(a(void 0));case 7:return p.next=9,Be.a.awrap(r([]));case 9:e.getPlaces(),e.updateCardIndex(0);case 11:case"end":return p.stop()}}),null,null,null,Promise)}()}},{key:"updateCardIndex",value:function(e){this.setState((function(){return{currentCardIndex:e}}))}},{key:"componentDidMount",value:function(){var e=this;!function(){var t,n,r,a,o,c;Be.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.props,t.updatePlaces,n=t.updateLocation,r=t.getSearchRadius,t.navigation,i.next=3,Be.a.awrap(zo.b());case 3:if(a=i.sent,"granted"===a.status){i.next=7;break}return i.abrupt("return",alert("Permission to access location was denied."));case 7:return i.next=9,Be.a.awrap(zo.a({}));case 9:return o=i.sent,c=o.coords,i.next=13,Be.a.awrap(n(c));case 13:return i.next=15,Be.a.awrap(r());case 15:e.getPlaces();case 16:case"end":return i.stop()}}),null,null,null,Promise)}()}},{key:"render",value:function(){var e=this.state.currentCardIndex,t=this.props.places.all,n=void 0===t?[]:t;return h.a.createElement(Xr,z()({},this.props,{cards:n,currentCardIndex:e,updateNextPlace:this.updateNextPlace,updateCardIndex:this.updateCardIndex,handleChoosePlace:this.handleChoosePlace,handleRemoveAcceptedPlace:this.handleRemoveAcceptedPlace,handleResetViewedPlaces:this.handleResetViewedPlaces}))}}]),n}(f.Component);qo.defaultProps=ne.defaultProps,qo.propTypes=ne.propTypes;var Yo=Object(y.b)((function(e){return{user:e.user,places:e.places,location:e.location}}),(function(e){return Object(b.b)({updateViewedIds:Ar,updatePlaces:Cr,updateLocation:Bo,updateNextPageToken:Mo,storeSelectedPlace:_r,removeSelectedPlace:Rr,addViewedPlaceId:kr,getSearchRadius:Vo},e)}))(qo),Jo=n(63);Ie.marginVerticalAuto,Ie.textCenter;var Ko=n(651);function $o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$o(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qo=Ie.container,ec=Ie.innerContainer;function tc(e){var t=e.navigation,n=e.theme.colors,r=Object(y.c)(),a=Object(y.d)((function(e){return e.user})),o=Object(y.d)((function(e){return e.location})).searchRadius,c=void 0===o?"10":o,i=a.displayName,s=a.email,u=Object(f.useState)(!1),l=M()(u,2),p=l[0],d=l[1],m=Object(f.useState)((function(){return null})),b=M()(m,2),O=b[0],g=b[1],v=Object(f.useState)(!1),E=M()(v,2),P=E[0],w=E[1],j=Object(f.useState)({}),S=M()(j,2),T=S[0],x=S[1],I=Object(f.useState)(!1),D=M()(I,2),C=D[0],k=D[1],A=function(){return d(!1)},_=function(){return w(!1)},R=function(e){var t=e.nativeEvent.text,n=T.dbField,r=vt.isInputInvalid(n,t);return x(Zo(Zo({},T),{},{isInputInvalid:r})),r},N=function(e,t,n,r){return[{title:"Username",description:e,icon:"account-outline",dbField:"displayName",invalidMessage:Ut,keyboardType:"default"},{title:"Email",description:t,icon:"at",dbField:"email",invalidMessage:zt,keyboardType:"email-address"},{title:"Location",description:n,icon:"map-marker",dbField:"location",invalidMessage:"Location is invalid!",keyboardType:"default"},{title:"Search Radius (miles)",description:r.toString(),icon:"crosshairs",dbField:"searchRadius",invalidMessage:"Search radius is invalid!",keyboardType:"numeric"}]}(i,s,"Set your location",c);return h.a.createElement(Le.a,{style:[Qo,{backgroundColor:n.background}]},P&&h.a.createElement(nn,{isShown:P,dialogContent:T,handleInputOnBlur:R,handleOnDismiss:_,handleOnSubmit:function(e){var n,a;return Be.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(n=e.trim(),!R({nativeEvent:{text:n}})){o.next=5;break}return o.abrupt("return");case 5:if("searchRadius"!==(a=T.dbField)){o.next=9;break}return r(Ho(n)),o.abrupt("return",t.navigate("Home"));case 9:if("displayName"!==a){o.next=12;break}return o.next=12,Be.a.awrap(at.updateProfile(n,a));case 12:"email"===a&&(g((function(){return function(){return Be.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.a.awrap(at.updateEmail(n));case 2:r(Nt()),A();case 4:case"end":return e.stop()}}),null,null,null,Promise)}})),d(!0)),r(Nt()),_();case 15:case"end":return o.stop()}}),null,null,null,Promise)}}),p&&h.a.createElement(Kr,{isShown:p,handleOnDismiss:A,handleOnConfirm:function(e){at.authenticateUser(e).then(O).catch((function(e){var t=e.message;return alert(t)}))}}),C&&h.a.createElement(aa,{isShown:C,handleOnDismiss:function(){return k(!1)}}),h.a.createElement(_e,{titleText:"Account",subheadingText:"Use the controls to change your settings."}),h.a.createElement(pa.a,{style:[ec,{backgroundColor:n.surface}]},N.map((function(e){var t=e.title,n=e.description,r=e.icon,a=e.dbField,o=e.invalidMessage,c=e.keyboardType;return h.a.createElement(da.a,{key:t+"-settings",title:t,description:"Location"===t?"Set your location":n,left:function(){return h.a.createElement(Ko.a,{icon:r})},onPress:function(){return function(e){x(e),w(!0)}({title:t,description:n,dbField:a,invalidMessage:o,keyboardType:c,isInputInvalid:!1})}})})),h.a.createElement(da.a,{title:"Change password",left:function(){return h.a.createElement(Ko.a,{icon:"lock-reset"})},onPress:function(){return k(!0)}})),h.a.createElement(Re.a,{icon:"trash-can-outline",mode:"contained",color:Et.n,onPress:function(){d(!0),g((function(){return function(){return Be.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.a.awrap(at.deleteAccount());case 2:r(_t());case 3:case"end":return e.stop()}}),null,null,null,Promise)}}))}},"Delete Account"))}tc.propTypes=ce.propTypes;var nc=Object(Pe.b)(tc),rc=n(397),ac=Ie.textCenter;function oc(){var e=Object(y.d)((function(e){return e.dates})),t=Er.a.get("window").height-300;return h.a.createElement(Jo.a,{style:{flex:1},contentContainerStyle:[{height:t}],scrollEnabled:!0},h.a.createElement(pa.a,null,h.a.createElement(rc.a,{style:[ac]},h.a.createElement(so,null)),0===e.length&&h.a.createElement(da.a,{title:dt,titleStyle:[ac]})))}var cc=Object(wo.a)(),ic=Er.a.get("window").width,sc=[{routeName:"Home",View:Yo},{routeName:"Dates",View:oc}];function uc(){return h.a.createElement(cc.Navigator,{initialRouteName:"Home",swipeEnabled:!1,style:[{width:ic}],sceneContainerStyle:[{width:ic}]},sc.map((function(e){var t=e.routeName,n=e.View;return h.a.createElement(cc.Screen,{key:t,name:t},(function(e){return h.a.createElement(n,e)}))})))}var lc=Object(K.a)();function pc(){return h.a.createElement(Oe.a,{style:[{flex:1}]},h.a.createElement(lc.Navigator,{headerMode:"screen",initialRouteName:"Home"},h.a.createElement(lc.Screen,{name:"Home",component:uc,options:{gestureEnabled:!1}}),h.a.createElement(lc.Screen,{name:"Account",component:nc,options:{gestureEnabled:!1}})))}function dc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dc(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hc=Object(K.a)();function mc(){var e=Object(f.useState)(!1),t=M()(e,2),n=t[0],r=t[1],a=Object(y.d)((function(e){return e.user})),o=Object(y.c)(),c=a.uid,i=a.currentDateId;return Object(f.useEffect)((function(){at.authStateChanged().then((function(e){if(e){var t=e.uid;o(Nt()),o(function(e){return function(t){var n;return Be.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Be.a.awrap(mt.getDates(e));case 3:if(!(n=r.sent).error){r.next=6;break}throw new Error(JSON.stringify(n.error));case 6:t({type:"STORE_DATES",payload:n}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),alert(r.t0);case 12:case"end":return r.stop()}}),null,null,[[0,9]],Promise)}}(t)),o(function(e){return function(t){var n;return Be.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Be.a.awrap(it.getNotifications(e));case 3:if(!(n=r.sent).error){r.next=6;break}throw new Error(JSON.stringify(n.error));case 6:t({type:"STORE_NOTIFICATION",payload:n}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),alert(r.t0);case 12:case"end":return r.stop()}}),null,null,[[0,9]],Promise)}}(t)),i&&o(Nr(c,i))}}))}),[c]),Object(f.useEffect)((function(){if(!n){var e=new gt;e.start(c),r(!0),o(function(e){return{type:"STORE_SOCKET_IO",payload:e}}(e))}}),[n]),h.a.createElement(hc.Navigator,{headerMode:"screen",initialRouteName:"Home",screenOptions:{header:function(e){return h.a.createElement(Po,e)}}},c?h.a.createElement(hc.Screen,{name:"Home"},(function(e){return h.a.createElement(pc,e)})):h.a.createElement(f.Fragment,null,h.a.createElement(hc.Screen,{name:"Login",component:Uo,options:{gestureEnabled:!1}}),h.a.createElement(hc.Screen,{name:"Sign Up",component:Uo,options:{gestureEnabled:!1}})))}mc.propTypes=fc(fc({},Z.propTypes),Q.propTypes);var yc=mc,bc=n(398),Oc=Te.a.create({content:{flex:1},navigationSection:{marginTop:15}}),gc=Oc.navigationSection;function vc(e){var t=e.currentRoute,n=e.theme,r=e.handleNavItemOnPress,a="Home"===t?"home":"home-outline",o="Account"===t?"account":"account-outline",c=n.colors,i=c.background,s=c.surface,u=function(e){return e===t?i:s};return h.a.createElement(on.a,{style:[gc]},h.a.createElement(an.a,{icon:function(e){var t=e.color,n=e.size;return h.a.createElement(rn.a,{name:a,color:t,size:n})},label:"Home",onPress:function(){return r("Home")},style:[{backgroundColor:u("Home")}]}),h.a.createElement(an.a,{icon:function(e){var t=e.color,n=e.size;return h.a.createElement(rn.a,{name:o,color:t,size:n})},label:"Account",onPress:function(){return r("Account")},style:[{backgroundColor:u("Account")}]}))}vc.propTypes=ue.propTypes;var Ec=Object(Pe.b)(vc);function Pc(e){var t=e.handleLogOutOnPress;return h.a.createElement(on.a,null,h.a.createElement(an.a,{icon:function(e){var t=e.color,n=e.size;return h.a.createElement(rn.a,{name:"logout",color:t,size:n})},label:"Log Out",onPress:t}))}Pc.propTypes=se.propTypes;var wc=Pc,jc=Oc.content;function Sc(e){var t=Object(y.c)(),n=e.currentRoute,r=e.navigation,a=e.theme.colors;return h.a.createElement(bc.a,z()({},e,{style:[{backgroundColor:a.surface,borderRightWidth:2,borderRightColor:a.primary}]}),h.a.createElement(Oe.a,{style:[jc]},h.a.createElement(vn,null),h.a.createElement(la.a,null),h.a.createElement(so,null),h.a.createElement(Ec,{currentRoute:n,handleNavItemOnPress:function(e){r.navigate(e)}}),h.a.createElement(dn,null),h.a.createElement(wc,{handleLogOutOnPress:function(){r.closeDrawer(),t(_t())}})))}Sc.propTypes=ie.propTypes;var Tc=Object(Pe.b)(Sc),xc=J()(X.a,V.a),Ic=J()(W.a,G.a),Dc=Object(H.a)(),Cc=function(e,t){var n;return(null!=(n=null==e?void 0:e.title)?n:null==t?void 0:t.name)+" - Munch Match"};function kc(){var e=Object(y.c)(),t=Object(y.d)((function(e){return e.user.uid})),n=Object(y.d)((function(e){return e.theme.themeColor})),r=Object(y.d)((function(e){return e.pageAlert})),a=Object(f.useState)(null),o=M()(a,2),c=o[0],i=o[1];Object(f.useEffect)((function(){e((function(e){return Be.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Be.a.awrap(un.a.getItem("themeColor").then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";e({type:"SET_THEME_COLOR",payload:t})})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),alert(t.t0);case 8:case"end":return t.stop()}}),null,null,[[0,5]],Promise)}))}),[n]);var s="dark"===n?Ic:xc;return h.a.createElement(q.a,{theme:s},h.a.createElement(F.a,{theme:s,documentTitle:{formatter:Cc},onStateChange:function e(t){if(t){var n=t.routes[(null==t?void 0:t.index)||0];if(n.state)return e(n.state);i(n.name)}}},r.isShown&&h.a.createElement(tn,{isShown:r.isShown,titleText:r.message,isConfirmDialog:r.isConfirm,submitText:r.submitText,cancelText:r.cancelText,handleOnDismiss:r.handleCancel,handleOnSubmit:r.handleSubmit}),t?h.a.createElement(Dc.Navigator,{drawerType:"slide",drawerContent:function(e){return h.a.createElement(Tc,z()({currentRoute:c},e))}},h.a.createElement(Dc.Screen,{name:"Root",component:yc})):h.a.createElement(yc,null)))}function Ac(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l()(this,n)}}var _c=function(e){s()(n,e);var t=Ac(n);function n(){return a()(this,n),t.apply(this,arguments)}return c()(n,[{key:"componentDidMount",value:function(){try{null==m.LogBox||m.LogBox.ignoreLogs(["Setting a timer"])}catch(e){console.log(e)}}},{key:"render",value:function(){return h.a.createElement(y.a,{store:L},h.a.createElement(kc,null))}}]),n}(f.Component)},439:function(e,t,n){e.exports=n(640)},506:function(e,t){}},[[439,1,2]]]);
//# sourceMappingURL=app.50e05259.chunk.js.map